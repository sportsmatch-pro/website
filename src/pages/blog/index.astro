---
import Layout from "../../layouts/Layout.astro";
import BlogIndex from "../../components/BlogIndex.astro";

// Detectar l'idioma des de la URL o usar per defecte
const currentLang = Astro.url.searchParams.get("lang") || "es-ES";

// Detectar si es vol desactivar el cache (Ãºtil per desenvolupament)
const noCache = Astro.url.searchParams.get("noCache") === "true";

const translations = {
  "es-ES": {
    title: "Blog Deportivo",
  },
  "ca-ES": {
    title: "Blog Esportiu",
  },
  en: {
    title: "Sports Blog",
  },
};

const t =
  translations[currentLang as keyof typeof translations] ||
  translations["es-ES"];
---

<Layout title={t.title} currentLang={currentLang}>
  <BlogIndex currentLang={currentLang} blogBasePath="/blog" noCache={noCache} />
</Layout>
